<f:layout name="Default" />

<f:section name="main">

	{namespace cic=CIC\Cicbase\ViewHelpers}
	{namespace ce=CIC\Cicevents\ViewHelpers}

	<div class="callout">

		<f:form class="CiceventsForm" enctype="multipart/form-data" action="create" method="post" name="event">

			<div class="row row-flush">
				<div class="span5">
					<div class="input control-group">
						<f:render partial="FormElements/TextInput"
								arguments="{inputClass: 'span5', required: 1, propertyName: 'title', propertyLabel: 'Event Name'}"/>
					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<label>Type:</label>
						<f:form.select property="type" options="{types}" optionValueField="uid" optionLabelField="title" class="span5 chzn-select"/>
						<p class="message">Required Field</p>
					</div>
				</div>
			</div>

			<div class="row row-flush" id="start-date-form">
				<div class="span5">
					<div class="input control-group">
						<f:render partial="FormElements/TextInput"
								  arguments="{inputClass: 'span5 bootstrap-datepicker datestring', required: 1, propertyName: 'occurrences.0.beginTime', propertyLabel: 'Start', defaultValue: '{startTime}'}"/>
					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<label>&nbsp;</label>
						<f:form.select class="select-time hour chzn-select" options="{hours}" optionValueField="id" value="{startTimeSelectedHour}"/>
						<f:form.select class="select-time minute chzn-select" options="{minutes}"  optionValueField="id" value="{startTimeSelectedMinute}"/>
						<f:form.select class="select-time daypart chzn-select" options="{am: 'am', pm: 'pm'}" optionValueField="id" value="{startTimeSelectedDaypart}"/>
					</div>
				</div>
			</div>

			<div class="row row-flush" id="end-date-form">
				<div class="span5">
					<div class="input control-group">
						<f:render partial="FormElements/TextInput"
								  arguments="{inputClass: 'span5 bootstrap-datepicker datestring', required: 1, propertyName: 'occurrences.0.finishTime', propertyLabel: 'End', defaultValue: '{endTime}'}"/>
					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<label>&nbsp;</label>
						<f:form.select class="select-time hour chzn-select" options="{hours}" optionValueField="id" value="{endTimeSelectedHour}" />
						<f:form.select class="select-time minute chzn-select" options="{minutes}"  optionValueField="id" value="{endTimeSelectedMinute}"/>
						<f:form.select class="select-time daypart chzn-select" options="{am: 'am', pm: 'pm'}" optionValueField="id" value="{endTimeSelectedDaypart}"/>
					</div>
				</div>
			</div>

			<div class="row row-flush">
				<div class="span5">
					<div class="input control-group">
						<f:render partial="FormElements/TextInput"
								  arguments="{inputClass: 'span5', required: 1, propertyName: 'occurrences.0.venue', propertyLabel: 'Venue'}"/>
					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<f:render partial="FormElements/TextInput"
								  arguments="{inputClass: 'span5', required: 1, propertyName: 'occurrences.0.address', propertyLabel: 'Address'}"/>
					</div>
				</div>
			</div>

			<div class="row row-flush">
				<div class="span5">
					<div class="input control-group">
						<label>Teaser:</label>
						<f:form.textarea property="teaser" rows="3" cols="" class="span5" />
					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<label>Description:</label>
						<f:form.textarea property="description" rows="3" cols="" class="span5" />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="span5">
					<div class="input control-group">
						<label>Categories:</label>
						<!--<f:form.select property="categories" options="{categories}" optionValueField="uid" optionLabelField="title" multiple="multiple" class="span5"/>-->
						<f:for each="{categories}" as="category" iteration="iteration">
							<ul class="inputs-list">
								<li>
									<label class="checkbox">
										<f:form.checkbox name="categories{iteration.index}" value="{category.uid}" />
										{category.title}
									</label>
								</li>
							</ul>
						</f:for>

					</div>
				</div>
				<div class="span5">
					<div class="input control-group">
						<label>Images:</label>
						<f:render arguments="{name: 'image1', image: image1}" partial="Event/ImageUpload" />
						<f:render arguments="{name: 'image2', image: image2}" partial="Event/ImageUpload" />
						<f:render arguments="{name: 'image3', image: image3}" partial="Event/ImageUpload" />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="span10">
					<f:form.submit id="submitbutton" value="Create Event" class="btn"/>
				</div>
			</div>

		</f:form>
	</div>

</f:section>